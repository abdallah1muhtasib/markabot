# إرشادات الأمان لـ Marka Bot

تهدف هذه الوثيقة إلى شرح أفضل الممارسات الأمنية المتبعة في مشروع Marka Bot وكيف يمكن للمساهمين والمستخدمين الحفاظ على سلامة البيانات.

## إدارة الأسرار

- **عدم تخزين التوكنات في الكود.** يتم تحميل جميع الأسرار مثل `BOT_TOKEN` ومعلومات قاعدة البيانات من متغيرات بيئية أو من ملفات `.env` غير خاضعة للتتبع في Git.
- **ملفات التكوين الحساسة** يجب إضافتها إلى `.gitignore` وعدم رفعها إلى المستودع العام.

## صلاحيات البوت

- **مبدأ أقل صلاحية.** عند إنشاء رابط دعوة للبوت، استخدم فقط الصلاحيات المطلوبة للميزات المفعلة. على سبيل المثال، إذا لم تستخدم الأوامر الموسيقية لا تمنح صلاحيات التحكم الصوتي.
- **التحقق من الصلاحيات داخل الأوامر.** على مستوى الكود، يتحقق البوت من وجود الصلاحيات المناسبة قبل تنفيذ أي أمر قد يؤثر على المستخدمين أو الخادم (مثل الحظر أو حذف الرسائل).

## إدخال المستخدم والتحقق

- يتم التحقق من مدخلات المستخدم لتجنب تنفيذ أوامر غير مرغوبة أو هجمات الحقن (SQL Injection) خصوصاً في أوامر إدارة القواعد والمحتوى.
- عند التعامل مع معرفات Discord، تُستخدم String أو Long مباشرة بدون تنفيذ أي عمليات تفسيرية.

## حماية من الحلقات الردّية (Feedback Loops)

- عند تفاعل البوت مع رسائل من بوتات أخرى، يتأكد من عدم إنشاء حلقة ردّية قد تؤدي إلى سبام أو استهلاك الموارد. يمكن إيقاف الاستجابة لرسائل البوتات الأخرى أو تقييدها.

## تحديثات التبعيات

- يستخدم المشروع GitHub Dependabot (أو ما شابه) لمتابعة تحديثات المكتبات واكتشاف الثغرات الأمنية. يجب معالجة التنبيهات في الوقت المناسب.

## الإبلاغ عن الثغرات

إذا اكتشفت مشكلة أمنية، يرجى عدم إنشاء Issue علني مباشرة. بدلاً من ذلك، تواصل مع مالك المستودع عبر البريد الإلكتروني أو خاصية الرسائل الخاصة لتنسيق الإصلاح قبل النشر العام.
